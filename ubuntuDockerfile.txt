FROM ubuntu:latest

RUN apt-get update -qq \
 && apt-get install -y build-essential flex bison git-core cmake zlib1g-dev libboost-system-dev \
    libboost-thread-dev libopenmpi-dev openmpi-bin gnuplot libreadline-dev libncurses-dev libxt-dev \
	libcgal-dev wget git \
 && mkdir -p /opt/OpenFOAM && cd /opt/OpenFOAM \
 && git clone git://github.com/OpenFOAM/OpenFOAM-dev.git \
 && git clone git://github.com/OpenFOAM/ThirdParty-dev.git \
 && cd OpenFOAM-dev/etc
 && chmod +x bashrc && sh -c bashrc \
 && cd ../../ThirdParty-dev \
 && ./Allwmake 
RUN cd ../OpenFOAM-dev
RUN ./Allwmake -j 4 
 
#http://openfoam.org/download/source/compiling-openfoam/